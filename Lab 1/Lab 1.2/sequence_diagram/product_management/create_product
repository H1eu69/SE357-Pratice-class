@startuml
actor User
control "Control" as C
participant "System" as S
database Database

activate User
User -> C: (1) Requests to create a product
activate C
C --> User: (2) Display form to create product
deactivate C
User -> C: (3) Input productData
activate C
C -> C: (4) isValid(productData)
alt true
    C -> S: (5) createProduct(productData)
    deactivate C
    activate S
    S -> Database: (6) checkAlreadyExists(productData)
    activate Database
    Database --> S: (7) existsStatus()
    deactivate Database
    S -> S: (8) isAlreadyExists(existsStatus)
    alt true
        S --> C: (9) notifyProuctAlreadyExists()
        deactivate S
        activate C
        C --> User: (10) displayMessage(MSG_1)
        deactivate C
    else false
        activate S
        S -> Database: (11) createNewProduct(data)
        activate Database
        Database --> S: (12) notifyCreateSuccess()
        deactivate Database
        S --> C: (13) notifyCreateSuccess()
        deactivate S
        activate C
        C --> User: (14) displayMessage(MSG_2)
        deactivate C
    end 
else false
    activate C
    C --> User: (15) displayMessage(MSG_5)
    deactivate C
end

@enduml