@startuml
actor User
control "Control" as C
participant "Server" as S
database Database

activate User
User -> C: (1) Requests export goods
activate C
C --> User: (2) Display form to export goods
loop Selects product
    User -> C: Selects an item and enter quantity
    C --> User: Displays selected item
end
C -> S: (3) exportGoods(items)
deactivate C
activate S
S -> Database: (4) checkGoodsQuantity(items)
activate Database
Database --> S: (5) quantityStatus
S -> S: (6) checkQuantityStatus(status)
alt Enough
    S -> Database: (7) saveExportGoodsInformation(items)
    Database --> S: (8) saveSuccessMessage(message)
    S --> C: (9) sendSuccessMessage(message)
    activate C
    C -> C: (10) generateGoodDeliveryNote(items)
    C --> User: (11) showGoodDeliveryNote(goodDeliveryNoteData)
    deactivate C
else Insufficient
    S --> C: (12) sendFailureMessage(error)
    deactivate S
    activate C
    C --> User: (13) displayMessage(MSG_16)
    deactivate C
end
@enduml
